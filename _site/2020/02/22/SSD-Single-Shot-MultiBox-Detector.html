<!DOCTYPE html><html lang="en">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>SSD Single Shot MultiBox Detector - Jinlu Zhang's Blog</title>

<meta name="description" content="ç›®æ ‡æ£€æµ‹ä¸­çš„ä¸€ä¸ªç»å…¸one-stageç®—æ³•â€”â€”SSDï¼ŒECCV2016ä¸­Wei Liuæå‡ºçš„ï¼Œç›¸æ¯”äºYOLOé’ˆå¯¹äºå°ç›®æ ‡æ£€æµ‹æ›´å‹å¥½ã€‚æ–‡ç« åŸºæœ¬æŒ‰ç…§è®ºæ–‡è¡Œæ–‡æ€è·¯å’Œç»“æ„è®°ç¬”è®°ï¼Œæœ€åç»™å‡ºä¸€ä¸ªsumary  è®ºæ–‡åœ°å€  ä»£ç åœ°å€  å‚è€ƒï¼šSSDè®ºæ–‡ç¬”è®°,">
<link rel="canonical" href="http://localhost:4000/2020/02/22/SSD-Single-Shot-MultiBox-Detector.html"><link rel="alternate" type="application/rss+xml" title="Jinlu Zhang's Blog" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ -->
<!--<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff"> -->
<!-- end favicons snippet -->

<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="manifest" href="/assets/site.webmanifest">
<link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/browserconfig.xml">
<meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" ><!-- start custom head snippets -->

<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://use.fontawesome.com/releases/v5.0.13/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: 'https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 23.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">
<path d="M89,8H11c-3.31,0-6,2.69-6,6v72c0,3.31,2.69,6,6,6h78c3.31,0,6-2.69,6-6V14C95,10.69,92.31,8,89,8z M11,12h78
	c1.1,0,2,0.9,2,2v4H9v-4C9,12.9,9.9,12,11,12z M89,88H11c-1.1,0-2-0.9-2-2V22h82v64C91,87.1,90.1,88,89,88z M45,30c0,1.1-0.9,2-2,2
	H17c-1.1,0-2-0.9-2-2s0.9-2,2-2h26C44.1,28,45,28.9,45,30z M15,40c0-1.1,0.9-2,2-2h20c1.1,0,2,0.9,2,2s-0.9,2-2,2H17
	C15.9,42,15,41.1,15,40z M39,70c0,1.1-0.9,2-2,2H17c-1.1,0-2-0.9-2-2s0.9-2,2-2h20C38.1,68,39,68.9,39,70z M45,60c0,1.1-0.9,2-2,2
	H17c-1.1,0-2-0.9-2-2s0.9-2,2-2h26C44.1,58,45,58.9,45,60z M83,28H53c-1.1,0-2,0.9-2,2v50c0,1.1,0.9,2,2,2h30c1.1,0,2-0.9,2-2V30
	C85,28.9,84.1,28,83,28z M81,78H55V32h26V78z"/>
</svg>
<a title="My Website with Blogs, Publications, Projects and Resume...>" href="/">Jinlu Zhang's Blog</a></div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/web-blogs">Blog</a></li><li class="navigation__item"><a href="/web-tags">Tag</a></li><li class="navigation__item"><a href="/web-about">About Me</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><div class="article__header"><header><h1>SSD Single Shot MultiBox Detector</h1></header><span class="split-space">&nbsp;</span>
          <a class="edit-on-github"
            title="Edit on Github"
            href="https://github.com/JinluZhang1126/jinluzhang1126.github.io/tree/master/_posts/2020-2-22-SSD-Single-Shot-MultiBox-Detector.md">
            <i class="far fa-edit"></i></a></div><meta itemprop="headline" content="SSD Single Shot MultiBox Detector"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/web-blogs/?tag=paper">paper</a>
            </li></ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>Feb 22, 2020</span>
            </li><li><i class="far fa-eye"></i> <span class="js-pageview" data-page-key="2020-2-22-SSD-Single-Shot-MultiBox-Detector">0</span> views</li></ul></div><meta itemprop="author" content="Jinlu Zhang"/><meta itemprop="datePublished" content="2020-02-22T00:00:00+08:00">
    <meta itemprop="keywords" content="paper"><div class="js-article-content"><meta name="robots" content="all,follow">

<div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><blockquote>
  <p>ç›®æ ‡æ£€æµ‹ä¸­çš„ä¸€ä¸ªç»å…¸one-stageç®—æ³•â€”â€”SSDï¼ŒECCV2016ä¸­Wei Liuæå‡ºçš„ï¼Œç›¸æ¯”äºYOLOé’ˆå¯¹äºå°ç›®æ ‡æ£€æµ‹æ›´å‹å¥½ã€‚æ–‡ç« åŸºæœ¬æŒ‰ç…§è®ºæ–‡è¡Œæ–‡æ€è·¯å’Œç»“æ„è®°ç¬”è®°ï¼Œæœ€åç»™å‡ºä¸€ä¸ªsumary</p>

  <p><a href="https://link.springer.com/chapter/10.1007%2F978-3-319-46448-0_2">è®ºæ–‡åœ°å€</a>  <a href="https://github.com/balancap/SSD-Tensorflow">ä»£ç åœ°å€</a></p>

  <p>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/58713034">SSDè®ºæ–‡ç¬”è®°</a>,</p>

  <!--more-->
</blockquote>

<h2 id="abstract">Abstract</h2>

<p>æœ¬æ–‡æå‡ºäº†ä¸€ç§ä½¿ç”¨å•ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œæ¥æ£€æµ‹å›¾åƒä¸­çš„ç›®æ ‡çš„æ–¹æ³•ï¼Œä¾¿äºè®­ç»ƒä¸ä¼˜åŒ–ï¼ŒåŒæ—¶æé«˜æ£€æµ‹é€Ÿåº¦ã€‚<strong>å°†è¾¹ç•Œæ¡†çš„è¾“å‡ºç©ºé—´ç¦»æ•£åŒ–ä¸ºä¸åŒé•¿å®½æ¯”çš„ä¸€ç»„default boxï¼Œè¿™äº›boxæ˜¯é€šè¿‡ä¸åŒå°ºå¯¸ï¼ˆåˆ†è¾¨ç‡ï¼‰layerä¸Šçš„feature mapå¾—å‡ºçš„ï¼Œæ¯ä¸€å±‚éƒ½å…·æœ‰ä¸åŒçš„aspect ratios and scales</strong>ã€‚åœ¨é¢„æµ‹é˜¶æ®µï¼Œç½‘ç»œä¼šåœ¨æ¯ä¸ªé»˜è®¤æ¡†ä¸­åˆ†åˆ«ä¸ºæ¯ä¸ªç±»åˆ«ç”Ÿæˆåˆ†æ•°ï¼Œå¹¶å¯¹default boxè¿›è¡Œå¾®è°ƒä»¥æ›´å¥½åœ°åŒ¹é…ç›®æ ‡å½¢çŠ¶ã€‚æ­¤å¤–ï¼Œç½‘ç»œè¿˜ç»“åˆäº†<strong>ä¸åŒåˆ†è¾¨ç‡çš„å¤šä¸ªç‰¹å¾æ˜ å°„</strong>çš„é¢„æµ‹ï¼Œè‡ªç„¶åœ°å¤„ç†å„ç§å°ºå¯¸çš„ç›®æ ‡ã€‚ç›¸å¯¹äºregion proposalçš„æ–¹æ³•ï¼ŒSSDéå¸¸ç®€å•ï¼Œå› ä¸ºå®ƒå®Œå…¨æ¶ˆé™¤äº†æå‡ºç”Ÿæˆå’Œéšåçš„åƒç´ æˆ–ç‰¹å¾é‡é‡‡æ ·é˜¶æ®µï¼Œå¹¶<strong>å°†æ‰€æœ‰è®¡ç®—å°è£…åˆ°å•ä¸ªç½‘ç»œ</strong>ä¸­ã€‚</p>

<h2 id="introduction">Introduction</h2>

<p>ç›®å‰ä¸»æµçš„ç›®æ ‡æ£€æµ‹ç®—æ³•åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§R-CNNæµï¼Œä¸»è¦æ€è·¯æ˜¯å…ˆä½¿ç”¨é€‰æ‹©æ€§æœç´¢ä¹‹ç±»çš„å¯å‘å¼æ–¹æ³•ï¼ˆSelective Searchï¼‰æˆ–CNNç½‘ç»œï¼ˆRPNï¼‰ç”Ÿæˆregion proposalï¼Œç„¶ååœ¨æ­¤proposalä¸Šç”Ÿæˆç‰¹å¾è¾“å…¥åˆ°åˆ†ç±»å’Œå®šä½ç½‘ç»œä¸­ï¼Œè¿™ç±»æ–¹æ³•æ˜¯<strong>two-stage</strong>çš„ï¼Œç‰¹ç‚¹æ˜¯ç²¾åº¦é«˜ã€é€Ÿåº¦ç•¥æ…¢ã€è®­ç»ƒè¾ƒå¤æ‚ï¼›ç¬¬äºŒç§æ˜¯YOLOä¸ºä»£è¡¨çš„<strong>one-stage</strong>æµï¼Œå®ƒä»¬çš„æ€è·¯æ˜¯å‡åŒ€åœ°åœ¨å›¾ç‰‡çš„ä¸åŒä½ç½®è¿›è¡Œå¯†é›†æŠ½æ ·ï¼ŒæŠ½æ ·æ—¶å¯ä»¥é‡‡ç”¨ä¸åŒçš„å°ºåº¦å’Œé•¿å®½æ¯”ï¼Œç„¶ååˆ©ç”¨CNNæå–ç‰¹å¾åç›´æ¥è¿›è¡Œåˆ†ç±»å’Œå›å½’ï¼Œæ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ä¸€æ­¥ï¼Œæ‰€ä»¥å®ƒä»¬çš„ä¼˜åŠ¿æ˜¯é€Ÿåº¦å¿«ã€‚ä½†æ˜¯å‡åŒ€çš„å¯†é›†é‡‡æ ·æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯æ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬åˆ†å¸ƒæä¸å‡è¡¡ï¼Œè¿™ä¼šå¯¼è‡´è®­ç»ƒå›°éš¾ï¼Œå¯¼è‡´æ¨¡å‹å‡†ç¡®åº¦ç¨ä½ã€‚<strong>ï¼ˆå¯ä»¥é€šè¿‡FocalLossç¼“è§£è¿™ä¸ªé—®é¢˜ï¼‰</strong></p>

<p>ç”±äºæ”¹è¿›äº†backboneç½‘ç»œï¼Œå¹¶ä¸”ä½¿ç”¨äº†ä¸åŒåˆ†è¾¨ç‡çš„feature mapï¼Œæ‰€ä»¥ç›¸æ¯”äºYOLOæµæ›´åŠ å‡†ç¡®ï¼Œå°¤å…¶æ˜¯å¯¹å°ç‰©ä½“æ£€æµ‹æ•æ„Ÿï¼Œé€Ÿåº¦ä¹Ÿæ¯”faster rcnnæ›´å¿«ã€‚SSDå±äºone-stageï¼Œæ‰€ä»¥æœ¬æ–‡ä¸»è¦æ¯”è¾ƒçš„ä¹Ÿæ˜¯YOLOæµã€‚</p>

<p>åŸæ–‡è¿™æ®µè¯æ„Ÿè§‰æ¦‚æ‹¬äº†SSDçš„æœ‰åˆ«äºå…¶ä»–æ–¹æ³•çš„ä¸»è¦æ€æƒ³ï¼š</p>

<blockquote>
  <p>Our improvements include using a small convolutional filter to predict object
categories and offsets in bounding box locations, using separate predictors (filters) for
different aspect ratio detections, and applying these filters to multiple feature maps from
the later stages of a network in order to perform detection at multiple scales</p>
</blockquote>

<p>ä½¿ç”¨VGGè¿™ç§å°å·ç§¯æ ¸ç½‘ç»œè¿›è¡Œæå–åˆå§‹ç›®æ ‡ç‰¹å¾å’Œåç§»é‡ï¼Œå¹¶ä¸”é’ˆå¯¹ä¸åŒå°ºåº¦çš„feature mapsäº§ç”Ÿä¸åŒçš„filterï¼Œç„¶åå°†è¿™ç§filteråº”ç”¨äºä¹‹åçš„detectioné˜¶æ®µã€‚</p>

<h2 id="the-single-shot-detector-ssd-ç½‘ç»œç»“æ„">The Single Shot Detector (SSD)-ç½‘ç»œç»“æ„</h2>

<p><img src="https://jinluzhang.site/PublicPic/Pic/image-20200209121221893.png" alt="image-20200209121221893" style="zoom:150%;" /></p>

<p>ç½‘ç»œçš„è¾“å…¥æ˜¯300 x 300ï¼Œç§°ä¸ºSSD300ï¼›é™¤æ­¤ä¹‹å¤–è¿˜æœ‰è¾“å…¥ä¸º500 x 500çš„SSD500ï¼Œå®ƒåœ¨SSD300çš„åŸºç¡€ä¸ŠåˆåŠ äº†ä¸€å±‚conv11_2ç”¨äºæ£€æµ‹ã€‚</p>

<p>SSDå°†VGG-16çš„å…¨è¿æ¥å±‚fc6å’Œfc7è½¬æ¢æˆ3 x 3çš„å·ç§¯å±‚Conv6å’Œ1 x 1çš„å·ç§¯å±‚Conv7ï¼Œå¹¶å°†pool5ä»2 x 2 - s2è½¬æ¢æˆ3 x 3 - s1ã€‚ç¬¬ä¸€ä¸ªç”¨äºæ£€æµ‹çš„feature mapæ˜¯Conv4_3ï¼Œç”±äºä½ç½®é å‰ï¼Œä¸ºäº†é¿å…ä¸åé¢çš„æ£€æµ‹å±‚å·®å¼‚å¤ªå¤§ï¼Œæ‰€ä»¥åœ¨Conv4_3åé¢ä½¿ç”¨L2 normalizationï¼Œå³ä»…å¯¹æ¯ä¸ªåƒç´ ç‚¹åœ¨channelç»´åº¦ä¸Šè¿›è¡Œå½’ä¸€åŒ–ã€‚</p>

<p>å¯ä»¥çœ‹å‡ºï¼Œç›¸æ¯”äºYOLOç½‘ç»œï¼ŒSSDä¸»è¦æ”¹è¿›åœ¨äºï¼š</p>

<ul>
  <li>VGG16ä½œä¸ºç‰¹å¾æå–ç½‘ç»œï¼›</li>
  <li>ä½¿ç”¨ä¸åŒå°ºå¯¸çš„feature mapæå–å‡ºæ¥çš„ä¸åŒå°ºå¯¸å’Œé•¿å®½æ¯”çš„default boxè¿›è¡Œæ£€æµ‹å’Œåˆ†ç±»ã€‚</li>
</ul>

<h3 id="æ¨¡å‹å…³é”®ç‚¹">æ¨¡å‹å…³é”®ç‚¹</h3>

<ul>
  <li>
    <p><strong>å¤šå°ºåº¦feature mapé¢„æµ‹</strong>ï¼Œ<strong>SSDç½‘ç»œä¸­åˆ†ä¸ºäº†6ä¸ªstageï¼Œæ¯ä¸ªstageèƒ½å­¦ä¹ åˆ°ä¸€ä¸ªç‰¹å¾å›¾ï¼Œç„¶åè¿›è¡Œè¾¹æ¡†å›å½’å’Œåˆ†ç±»</strong>ï¼Œè¿™äº›å±‚çš„å°ºå¯¸<strong>é€æ¸å‡å°</strong>ï¼Œå¹¶å…è®¸<strong>å¤šå°ºåº¦</strong>çš„é¢„æµ‹ã€‚åœ¨Conv4_3ã€Conv6ã€Conv7ã€Conv8_2ã€Conv9_2ã€Conv10_2ã€Pool 11çš„feature mapä¸Šéƒ½ä¼šè¿›è¡Œæ£€æµ‹ï¼Œå…¥åˆ°åé¢çš„<em>detection per class</em>å±‚ï¼Œ æå–å‡ºæ¥ç±»åˆ«æ¦‚ç‡å’Œåæ ‡ï¼šï¼ˆc, x, y, w, hï¼‰</p>
  </li>
  <li>
    <p><strong>VGGç½‘ç»œä½œä¸ºç‰¹å¾æå–ç½‘ç»œ</strong>ï¼Œå»é™¤æœ€åä¸¤å±‚FCå±‚ï¼Œæ”¹ä¸º3 x 3çš„å·ç§¯å±‚Conv6å’Œ1 x 1çš„å·ç§¯å±‚Conv7ï¼Œå¹¶åœ¨ä¹‹åå¢åŠ å°ºå¯¸ä¾æ¬¡å‡å°çš„4ä¸ªå·ç§¯å±‚</p>
  </li>
  <li>
    <p><strong>ä½¿ç”¨CNNæ£€æµ‹</strong>ï¼Œè¿™ä¸€éƒ¨åˆ†å’ŒFaster RCNNä¸­çš„RPNç½‘ç»œæœ‰äº›ç±»ä¼¼ï¼Œå¯¹äºfeature mapå…ˆä½¿ç”¨3 x 3å·ç§¯ï¼Œå·ç§¯åçš„ç»“æœä»£è¡¨feature mapä¸Šæ¯ä¸ªåƒç´ ä»£è¡¨çš„default boxçš„ä¿¡æ¯ï¼Œå¦‚ç±»åˆ«æ¦‚ç‡æˆ–ä½ç½®ä¿¡æ¯ã€‚</p>

    <p>å¯¹äºè¾¹æ¡†å›å½’ï¼Œåªéœ€è¦<strong>4ç»´å‘é‡</strong>å³å¯ï¼Œåˆ†åˆ«ä»£è¡¨è¾¹æ¡†ç¼©æ”¾å°ºåº¦(åæ ‡è½´ä¸¤ä¸ªæ–¹å‘)å’Œå¹³ç§»å‘é‡(åæ ‡è½´ä¸¤ä¸ªæ–¹å‘)ã€‚å¯¹äºåˆ†ç±»ï¼ŒSSDç½‘ç»œé‡‡å–ä¸ºæ¯ä¸ªç±»åˆ«è¿›è¡Œæ‰“åˆ†çš„ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºæ¯ä¸ªDefault Boxï¼ŒSSDç½‘ç»œä¼šè®¡ç®—å‡ºç›¸åº”çš„<strong>æ¯ä¸ªç±»åˆ«çš„åˆ†æ•°</strong>ã€‚å‡è®¾æ•°æ®é›†ç±»åˆ«æ•°ä¸ºcï¼ŒåŠ ä¸ŠèƒŒæ™¯ï¼Œé‚£ä¹ˆæ€»çš„ç±»åˆ«æ•°å°±æ˜¯<strong>c+1</strong>ç±»ã€‚SSDç½‘ç»œé‡‡ç”¨äº†c+1ç»´å‘é‡æ¥åˆ†åˆ«ä»£è¡¨è¯¥Default Boxå¯¹äºæ¯ä¸ªç±»åˆ«æ‰€å¾—åˆ°çš„åˆ†æ•°ã€‚è¿™é‡Œï¼Œå‡è®¾æ˜¯VOCæ•°æ®é›†ï¼Œé‚£ä¹ˆæ¯ä¸ªDefault Boxå°†ç”Ÿæˆä¸€ä¸ª20 + 1 + 4 = 25ç»´çš„ç‰¹å¾å‘é‡ã€‚åŒæ ·ï¼Œä»¥Conv9è¾“å‡ºç‰¹å¾å›¾5x5ä¸ºä¾‹ã€‚æŠ½è±¡åœ°è¯´ç‰¹å¾å‘é‡å°±æ˜¯ï¼š<strong>(m*n)*k*(c+4)</strong></p>

    <p><img src="https://jinluzhang.site/PublicPic/Pic/MgVSAo8.png" alt="img" /></p>
  </li>
  <li>
    <p><strong>Default boxes and aspect ratios</strong>ï¼Œfeature mapä¸Šæ¯ä¸ªåƒç´ éƒ½ä¼šç”Ÿæˆå¤šä¸ªdefault boxã€‚ä½œè€…å……åˆ†çš„å¸å–äº†Faster R-CNNä¸­çš„Anchorsæœºåˆ¶ï¼Œåœ¨æ¯ä¸ªStageä¸­æ ¹æ®Feature Mapçš„å¤§å°ï¼ŒæŒ‰ç…§å›ºå®šçš„Scaleå’ŒRadioç”ŸæˆDefault Boxesã€‚è¿™é‡Œä¸ºäº†æ–¹ä¾¿é˜è¿°ï¼Œé€‰å–äº†Conv9çš„Feature Mapï¼Œè¾“å‡ºå¤§å°ä¸º5x5ã€‚SSDç½‘ç»œä¸­ä½œè€…è®¾ç½®Conv9çš„æ¯ä¸ªç‚¹é»˜è®¤ç”Ÿæˆ6ä¸ªboxï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å› æ­¤åœ¨è¿™ä¸€å±‚ä¸Šï¼Œå…±ç”Ÿæˆäº†5x5x6=150ä¸ªboxesã€‚</p>

    <p><img src="https://jinluzhang.site/PublicPic/Pic/pToKpCA.jpg" alt="img" /></p>
  </li>
</ul>

<p>ï¼ˆğŸ‘†è¿™æ®µè§£é‡Šæ¥è‡ªğŸ‘‰<a href="https://blog.csdn.net/neu_chenguangq/article/details/79057655">here</a>,æ„Ÿè§‰è§£é‡Šçš„å¾ˆåˆ°ä½ï¼Œç‰¹æ­¤è¯´æ˜ï¼‰</p>

<p>è¿™æ ·åœ¨ä¸åŒå°ºåº¦ç”Ÿæˆdefault boxæœ€å¤§çš„å¥½å¤„åœ¨äºå¯ä»¥å¯¹å„ç§å°ºåº¦å’Œå½¢çŠ¶çš„ç‰©ä½“è¿›è¡Œé¢„æµ‹ï¼šä¸‹å›¾ä¸­ç‹—çš„ground truthå’Œ4 x 4 feature mapä¸­default boxåŒ¹é…ï¼Œä½†å’Œ8 x 8 feature mapçš„ä»»ä½•ä¸€ä¸ªdefault boxéƒ½ä¸åŒ¹é…ï¼Œæ‰€ä»¥SSDç›¸å¯¹äºRPNè€ƒè™‘æ›´å‘¨åˆ°</p>

<p><img src="https://jinluzhang.site/PublicPic/Pic/image-20200222105802543.png" alt="image-20200222105802543" style="zoom:67%;" /></p>

<h3 id="æ³¨æ„åŒºåˆ†dafault-boxç”Ÿæˆå’Œcnnæ£€æµ‹">æ³¨æ„åŒºåˆ†dafault boxç”Ÿæˆå’ŒCNNæ£€æµ‹</h3>

<p>è¿™ä¸¤ä¸ªå…³é”®ç‚¹æ˜¯åˆ†å¼€çš„ï¼Œdefault boxç”Ÿæˆæ—¶å¯¹äºfeature mapä¸­æ¯ä¸€ä¸ªåƒç´ ç‚¹ç”Ÿæˆ4-6ä¸ªä¸åŒé•¿å®½æ¯”çš„boxï¼Œå¾—åˆ°çš„æ˜¯æ¯ä¸€ä¸ªcellçš„ä¸åŒbox</p>

<p>è€ŒCNNæ£€æµ‹æ˜¯å¯¹æ¯ä¸€ä¸ªcellï¼ˆä¹Ÿå°±æ˜¯åƒç´ ï¼‰è¿›è¡Œ3*3å·ç§¯ï¼Œå¾—åˆ°çš„æ˜¯ç‰¹å¾å‘é‡</p>

<p>è¿™ä¸¤ä¸ªæˆ‘åœ¨ä¸€å¼€å§‹è¯»è®ºæ–‡çš„æ—¶å€™ç»å¸¸æä¸æ¸…</p>

<h3 id="è®­ç»ƒç»†èŠ‚">è®­ç»ƒç»†èŠ‚</h3>

<ul>
  <li>
    <p><strong>å¦‚ä½•é€‰æ‹©default boxçš„å°ºå¯¸å’Œé•¿å®½æ¯”</strong></p>

    <p>æ¯å±‚ç‰¹å¾å›¾ä¸Šçš„å°ºåº¦çš„default boxè®¡ç®—è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p>

    <p><img src="https://jinluzhang.site/PublicPic/Pic/image-20200209134820257.png" alt="image-20200209134820257" /></p>

    <p>å‚æ•°ï¼šscaleï¼Œ aspect ratioâ€”â€”æ¯ä¸ªcellç”Ÿæˆå›ºå®šçš„scaleï¼ˆsï¼‰å’Œaspect ratioï¼ˆarï¼‰çš„è¾¹ç•Œæ¡†</p>

    <p>å…¶ä¸­ Smin ä¸ºæœ€å°å°ºåº¦0.2ï¼Œ Smax ä¸ºæœ€å¤§å°ºåº¦0.95ã€‚</p>

    <p>é•¿å®½æ¯”<strong>ar âˆˆ {1ï¼Œ2ï¼Œ3ï¼Œ1/2ï¼Œ1/3}</strong>ï¼Œ</p>

    <p>äºæ˜¯default boxçš„å®½å’Œé«˜å¯ä»¥é€šè¿‡ <img src="https://www.zhihu.com/equation?tex=w_k%5Ea%3Ds_k%5Csqrt%7Ba_r%7D" alt="[å…¬å¼]" /> å’Œ <img src="https://www.zhihu.com/equation?tex=h_k%5Ea%3Ds_k%2F%5Csqrt%7Ba_r%7D" alt="[å…¬å¼]" /> è®¡ç®—ï¼Œ</p>

    <p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¢åŠ ä¸€ä¸ªé•¿å®½æ¯”ä¸º1çš„æ—¶å€™ï¼Œå°ºåº¦ä¸º <img src="https://www.zhihu.com/equation?tex=s_k%27%3D%5Csqrt%7Bs_ks_%7Bk%2B1%7D%7D" alt="[å…¬å¼]" /> çš„default boxï¼Œæ‰€ä»¥feature mapä¸Šæ¯ä¸ªåƒç´ éƒ½æœ‰6ä¸ªdefault boxï¼Œ<strong>æ³¨æ„è¿™é‡Œå¾—åˆ°çš„ç»“æœéƒ½æ˜¯ç›¸å¯¹äºåŸå›¾çš„æ¯”ä¾‹</strong>ã€‚default boxä¸­å¿ƒçš„åæ ‡å°±æ˜¯åƒç´ çš„ä¸­å¿ƒã€‚</p>
  </li>
  <li>
    <p><strong>åŒ¹é…ç­–ç•¥</strong></p>

    <p>è®­ç»ƒæ—¶éœ€è¦å»ºç«‹ground truthå’Œdefault boxä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œæ–‡ä¸­ä¸»è¦é‡‡ç”¨best jaccard overlapã€‚ä¸MultiBoxç¨æœ‰ä¸åŒçš„æ˜¯ï¼šSSDæ¯ä¸ªground truthå¯ä»¥ä¸å¤šä¸ªdefault boxåŒ¹é…ã€‚</p>

    <p>åˆ†ä¸ºä¸¤æ­¥ï¼šé¦–å…ˆå¯¹äºæ¯ä¸ªground truthï¼Œæ‰¾åˆ°ä¸€ä¸ªä¸å…¶IoUæœ€å¤§çš„default boxåŒ¹é…ï¼Œè¿™ä¸ªdefault boxå¯¹åº”çš„é¢„æµ‹æ¡†å°±ä½œä¸ºæ­£æ ·æœ¬ï¼Œå…¶ä½™éƒ½ä½œä¸ºè´Ÿæ ·æœ¬ã€‚ä½†è¿™æ ·åšä¼šå¯¼è‡´è´Ÿæ ·æœ¬è¿‡å¤šï¼Œæ­£è´Ÿæ ·æœ¬åˆ†å¸ƒæå…¶ä¸å‡è¡¡ï¼Œæ‰€ä»¥è¿˜ä¼šé‡‡å–ç¬¬äºŒæ­¥ï¼šå¯¹äºæ¯ä¸ªground truthï¼Œå°†ä¸å…¶IoUå¤§äºæŸä¸€é˜ˆå€¼ï¼ˆæ¯”å¦‚0.5ï¼‰çš„default boxéƒ½è¿›è¡ŒåŒ¹é…ã€‚</p>

    <p><img src="https://jinluzhang.site/PublicPic/Pic/image-20200222113304807.png" alt="image-20200222113304807" style="zoom: 50%;" /></p>
  </li>
  <li>
    <p><strong>æŸå¤±å‡½æ•°</strong></p>

    <p><img src="https://jinluzhang.site/PublicPic/Pic/image-20200222113449881.png" alt="image-20200222113449881" /></p>

    <p><img src="https://jinluzhang.site/PublicPic/Pic/image-20200222113710154.png" alt="image-20200222113710154" style="zoom: 50%;" /></p>

    <p><img src="https://www.zhihu.com/equation?tex=N" alt="[å…¬å¼]" /> ä¸ºåŒ¹é…æˆåŠŸçš„default boxä¸ªæ•°ï¼› <img src="https://www.zhihu.com/equation?tex=%5Calpha" alt="[å…¬å¼]" /> æ˜¯ä¸ºäº†æƒè¡¡ä¸¤è€…æŸå¤±è€Œè®¾ç½®ï¼Œé€šè¿‡äº¤å‰éªŒè¯å‘ç°è®¾ç½®ä¸º1æ›´å¥½ï¼›ç¬¬ä¸€é¡¹æ˜¯ç½®ä¿¡åº¦çš„SoftmaxæŸå¤±ï¼Œæ³¨æ„è¿˜åŒ…æ‹¬èƒŒæ™¯è¿™ä¸ªç±»åˆ«ï¼›ç¬¬äºŒé¡¹æ˜¯å‚æ•°åŒ–åçš„bounding boxä¸­å¿ƒåæ ‡ã€é•¿å’Œå®½çš„Smooth L1æŸå¤±</p>
  </li>
  <li>
    <p><strong>éš¾ä¾‹æŒ–æ˜</strong></p>

    <p>ç”¨äºé¢„æµ‹çš„ feature map ä¸Šçš„æ¯ä¸ªç‚¹éƒ½å¯¹åº”æœ‰ 6 ä¸ªä¸åŒçš„ default boxï¼Œç»å¤§éƒ¨åˆ†çš„ default box éƒ½æ˜¯è´Ÿæ ·æœ¬ï¼Œå¯¼è‡´äº†æ­£è´Ÿæ ·æœ¬ä¸å¹³è¡¡ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨äº† Hard Negative Mining çš„ç­–ç•¥ï¼ˆ<strong>æ ¹æ®confidence losså¯¹æ‰€æœ‰çš„boxè¿›è¡Œæ’åºï¼Œä½¿æ­£è´Ÿä¾‹çš„æ¯”ä¾‹ä¿æŒåœ¨1:3</strong>ï¼‰ æ¥å¹³è¡¡æ­£è´Ÿæ ·æœ¬çš„æ¯”ç‡ã€‚è¿™æ ·åšèƒ½æé«˜4%å·¦å³ã€‚</p>
  </li>
  <li>
    <p><strong>æ•°æ®å¢å¼º</strong></p>

    <p>ä¸‰ä¸ªé€‰é¡¹ï¼š</p>

    <ul>
      <li>ä½¿ç”¨æ•´å¼ å›¾åƒä½œä¸ºè¾“å…¥</li>
      <li>ä½¿ç”¨IOUå’Œç›®æ ‡ç‰©ä½“ä¸º0.1ã€0.3ã€0.5ã€0.7å’Œ0.9çš„patchï¼Œè¿™äº›patchåœ¨åŸå›¾çš„å¤§å°çš„[0.1, 1]ä¹‹é—´ï¼Œç›¸åº”çš„å®½é«˜æ¯”åœ¨[1/2, 2]ä¹‹é—´ã€‚</li>
      <li>éšæœºé‡‡å–ä¸€ä¸ªpatch</li>
    </ul>
  </li>
</ul>

<h2 id="experiment">Experiment</h2>

<h3 id="caffeç‰ˆæœ¬">Caffeç‰ˆæœ¬</h3>

<table>
  <thead>
    <tr>
      <th>System</th>
      <th>VOC2007 test <em>mAP</em></th>
      <th><strong>FPS</strong> (Titan X)</th>
      <th>Number of Boxes</th>
      <th>Input resolution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/ShaoqingRen/faster_rcnn">Faster R-CNN (VGG16)</a></td>
      <td>73.2</td>
      <td>7</td>
      <td>~6000</td>
      <td>~1000 x 600</td>
    </tr>
    <tr>
      <td><a href="http://pjreddie.com/darknet/yolo/">YOLO (customized)</a></td>
      <td>63.4</td>
      <td>45</td>
      <td>98</td>
      <td>448 x 448</td>
    </tr>
    <tr>
      <td>SSD300* (VGG16)</td>
      <td>77.2</td>
      <td>46</td>
      <td>8732</td>
      <td>300 x 300</td>
    </tr>
    <tr>
      <td>SSD512* (VGG16)</td>
      <td><strong>79.8</strong></td>
      <td>19</td>
      <td>24564</td>
      <td>512 x 512</td>
    </tr>
  </tbody>
</table>

<h3 id="tfç‰ˆæœ¬ä»£ç ">TFç‰ˆæœ¬ï¼ˆ<a href="https://github.com/balancap/SSD-Tensorflow">ä»£ç </a>ï¼‰</h3>

<table>
  <thead>
    <tr>
      <th>Model</th>
      <th>Training data</th>
      <th>Testing data</th>
      <th>mAP</th>
      <th>FPS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://drive.google.com/open?id=0B0qPCUZ-3YwWZlJaRTRRQWRFYXM">SSD-300 VGG-based</a></td>
      <td>VOC07+12 trainval</td>
      <td>VOC07 test</td>
      <td>0.778</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="https://drive.google.com/file/d/0B0qPCUZ-3YwWUXh4UHJrd1RDM3c/view?usp=sharing">SSD-300 VGG-based</a></td>
      <td>VOC07+12+COCO trainval</td>
      <td>VOC07 test</td>
      <td>0.817</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="https://drive.google.com/open?id=0B0qPCUZ-3YwWT1RCLVZNN3RTVEU">SSD-512 VGG-based</a></td>
      <td>VOC07+12+COCO trainval</td>
      <td>VOC07 test</td>
      <td>0.837</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<ol>
  <li><strong>å’ŒYOLOä¸€æ ·ä¸åŒç±»åˆ«ä¹‹é—´å…±äº«å›å½’å™¨ï¼Œæ‰€ä»¥æ˜“æ··æ·†ç›¸ä¼¼çš„ç±»åˆ«</strong></li>
  <li><strong>å¯¹å°ç‰©ä½“çš„æ£€æµ‹ç›¸å¯¹äºYOLOå¥½ä¸€ç‚¹</strong></li>
  <li><strong>æ¯”YOLOv1å¿«ä¸”ç²¾å‡†åº¦é«˜ï¼Œæ¯”Faster R-CNNç²¾åº¦ç•¥ä½</strong></li>
  <li>SSDæ•´ä¸ªç½‘ç»œé‡‡å–äº†one stageçš„æ€æƒ³ï¼Œä»¥æ­¤æé«˜æ£€æµ‹é€Ÿåº¦ã€‚å¹¶ä¸”ç½‘ç»œä¸­èå…¥äº†Faster R-CNNä¸­çš„anchorsæ€æƒ³ï¼Œå¹¶ä¸”åšäº†ç‰¹å¾åˆ†å±‚æå–å¹¶ä¾æ¬¡è®¡ç®—è¾¹æ¡†å›å½’å’Œåˆ†ç±»æ“ä½œã€‚æ€»ä¹‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå»¶ç”³RPNç½‘ç»œæ€æƒ³ï¼ŒåŒæ—¶åˆç»“åˆYOLOæ¡†æ¶çš„æ–¹æ³•ã€‚</li>
</ol>
</div><section class="article__sharing d-print-none"><!-- AddToAny BEGIN -->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
  <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
  <a class="a2a_button_email"></a>
  <a class="a2a_button_reddit"></a>
  <a class="a2a_button_wechat"></a>
</div>
<script async src="https://static.addtoany.com/menu/page.js"></script>
<!-- AddToAny END -->
</section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2020-02-22T00:00:00+08:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<!--<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div>
</div>-->

  <!--<div class="article__license"><div class="license">
    <p>This work is licensed under a <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">Attribution-NonCommercial 4.0 International</a> license.
      <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">
        <img alt="Attribution-NonCommercial 4.0 International" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" />
      </a>
    </p>
  </div></div>-->
</footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/2020/02/17/Ubuntu18.04-rebuild-Nvidia-driver-cuda-cudnn-multi-use-anaconda.html">Ubuntu18.04é‡è£…Nvidiaé©±åŠ¨ï¼Œcudaå’Œcudnnï¼Œå¤šç”¨æˆ·ä½¿ç”¨anaconda</a></div><div class="next"><span>NEXT</span><a href="/2020/02/25/github-img-not-available.html">é—®é¢˜è§£å†³ï¼šGithubå›¾ç‰‡æ— æ³•è®¿é—®</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jinlu Zhang"><meta itemprop="url" content="https://jinluzhang.site/"><meta itemprop="description" content="Master of Computer Science, raw hand in computer vision, research interests are pose estimation, 3D, video estimation, etc."><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><link itemprop="url" href="https://jinluzhang.site/"><li title="Send me an Email.">
      <a class="button button--circle mail-button" itemprop="email" href="mailto:Jinluzhang1126@163.com" target="_blank">
        <i class="fas fa-envelope"></i>
      </a><li title="Follow me on Zhihu.">
        <a class="button button--circle zhihu-button" itemprop="sameAs" href="https://www.zhihu.com/people/zhang-jin-lu-21" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z" p-id="907"></path><path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z" />
</svg>
</div>
        </a>
      </li><li title="Follow me on Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/JinluZhang1126" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>Â© Jinlu Zhang's Blog 2020,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">Search</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        Cancel</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  â¬…, 38  â¬†, 39  â¡, 40  â¬‡
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script><script>
  window.Lazyload.js(['https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js', 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js'], function() {
    var $canvas = null, $this = null, _ctx = null, _text = '';
    $('.language-chart').each(function(){
      $this = $(this);
      $canvas = $('<canvas></canvas>');
      _text = $this.text();
      $this.text('').append($canvas);
      _ctx = $canvas.get(0).getContext('2d');
      (_ctx && _text) && (new Chart(_ctx, JSON.parse(_text)) && $this.attr('data-processed', true));
    });
  });
</script>
<script type="text/x-mathjax-config">
	var _config = { tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']]
	}};_config.TeX = { equationNumbers: { autoNumber: "all" } };MathJax.Hub.Config(_config);
</script>
<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  window.Lazyload.js('https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js', function() {
    mermaid.initialize({
      startOnLoad: true
    });
    mermaid.init(undefined, '.language-mermaid');
  });
</script>

    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>

